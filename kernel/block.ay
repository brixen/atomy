macro(~x onto ~(b: Block)):
  names [ctx]:
    instpat = '~(x: Word)
    `(do:
        ~ctx = self
        let-macro(
          self = '~ctx

          Call = to-send tap [p]: p receiver = 'self

          @~instpat =
            `(~'~ctx instance-variable-get(#~("@" + x text)))

          Binary =
            if(@private)
              then: dup tap [p]: p lhs = 'self
              else: self
        ): ~b block call-on-instance(~x))
