theories = ARGV at(1) || "*"

in-namespace(atomy/tests):
  macro(test(name)):
    `(do:
        namespace(~(Atomy::AST::Variable new(0, "tests/" + name name)))
        use(atomy/tests))

  theorize:
    Dir glob("test/suite/" + theories + ".ay") each (t):
      import(t)
