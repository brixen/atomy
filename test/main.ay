theories = ARGV at(1) || "*"

in-namespace(atomy/tests):
  macro(test(name)):
    `({ namespace(~(Atomy::AST::Variable new(0, "tests/" + name name)))
        use(atomy, atomy/tests)
      }) body

  atomy/theorize:
    Dir glob("test/suite/" + theories + ".ay") each (t):
      import(t)
